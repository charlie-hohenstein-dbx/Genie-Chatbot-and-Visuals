# This is a Databricks asset bundle definition for demo.
# The Databricks extension requires databricks.yml configuration file.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.

bundle:
  name: ad-tech-genie-demo

resources:
  apps:
    genie_chatbot_app:
      name: genie-chatbot-mcp
      description: "Genie chatbot with MCP-based chart generation"
      source_code_path: .
      
      config:
        command:
          - streamlit
          - run
          - databricks_chat_app/app.py
          - --server.port=8080
        
        env:
          - name: DATABRICKS_HOST
            value: https://e2-demo-field-eng.cloud.databricks.com
          - name: DATABRICKS_TOKEN
            value: ""
          - name: GENIE_SPACE_ID
            value: ""
          - name: AGENT_ENDPOINT_NAME
            value: ""

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com

  ## Optionally, there could be 'staging' or 'prod' targets here.
  #
  # prod:
  #   mode: production
  #   workspace:
  #     host: https://e2-demo-field-eng.cloud.databricks.com
  #   resources:
  #     apps:
  #       genie_chatbot_app:
  #         name: genie-chatbot-mcp-prod
